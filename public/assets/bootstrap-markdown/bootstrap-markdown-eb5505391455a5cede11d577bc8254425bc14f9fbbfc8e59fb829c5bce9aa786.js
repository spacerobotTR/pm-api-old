!function(t){var e=function(n){function i(t){if(a[t])return a[t].exports;var e=a[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}var a={};return i.m=n,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=420)}({1:function(t){t.exports=window.jQuery},419:function(t,e,n){var i,a,o;a=[n(1)],void 0===(o="function"==typeof(i=function(w){"use strict";var a=function(n,i){w.each(["autofocus","savable","hideable","width","height","resize","iconlibrary","language","footer","fullscreen","hiddenButtons","disabledButtons"],function(t,e){void 0!==w(n).data(e)&&((i="object"==typeof i?i:{})[e]=w(n).data(e))}),this.$ns="bootstrap-markdown",this.$element=w(n),this.$editable={el:null,type:null,attrKeys:[],attrValues:[],content:null},this.$options=w.extend(!0,{},w.fn.markdown.defaults,i,this.$element.data("options")),this.$oldContent=null,this.$isPreview=!1,this.$isFullscreen=!1,this.$editor=null,this.$textarea=null,this.$handler=[],this.$callback=[],this.$nextTab=[],this.showEditor()};a.prototype={constructor:a,__alterButtons:function(n,i){var t=this.$handler,a="all"==n,o=this;w.each(t,function(t,e){0==(!a&&e.indexOf(n)<0)&&i(o.$editor.find('button[data-handler="'+e+'"]'))})},__buildButtons:function(t,e){var n,i=this.$ns,a=this.$handler,o=this.$callback;for(n=0;n<t.length;n++){var s,r=t[n];for(s=0;s<r.length;s++){var l,c=r[s].data,h=w("<div/>",{"class":"btn-group"});for(l=0;l<c.length;l++){var d,u,f=c[l],p=i+"-"+f.name,g=this.__getIcon(f.icon),v=f.btnText?f.btnText:"",m=f.btnClass?f.btnClass:"btn",b=f.tabIndex?f.tabIndex:"-1",y=void 0!==f.hotkey?f.hotkey:"",x=void 0!==jQuery.hotkeys&&""!==y?" ("+y+")":"";(d=w("<button></button>")).text(" "+this.__localize(v)).addClass("btn-default btn-sm").addClass(m),m.match(/btn\-(primary|success|info|warning|danger|link)/)&&d.removeClass("btn-default"),d.attr({type:"button",title:this.__localize(f.title)+x,tabindex:b,"data-provider":i,"data-handler":p,"data-hotkey":y}),!0===f.toggle&&d.attr("data-toggle","button"),(u=w("<span/>")).addClass(g),u.prependTo(d),h.append(d),a.push(p),o.push(f.callback)}e.append(h)}}return e},__setListener:function(){var t=void 0!==this.$textarea.attr("rows"),e=5<this.$textarea.val().split("\n").length?this.$textarea.val().split("\n").length:"5",n=t?this.$textarea.attr("rows"):e;this.$textarea.attr("rows",n),this.$options.resize&&this.$textarea.css("resize",this.$options.resize),this.$textarea.on({focus:w.proxy(this.focus,this),keyup:w.proxy(this.keyup,this),change:w.proxy(this.change,this),select:w.proxy(this.select,this)}),this.eventSupported("keydown")&&this.$textarea.on("keydown",w.proxy(this.keydown,this)),this.eventSupported("keypress")&&this.$textarea.on("keypress",w.proxy(this.keypress,this)),this.$textarea.data("markdown",this)},__handle:function(t){var e=w(t.currentTarget),n=this.$handler,i=this.$callback,a=e.attr("data-handler"),o=i[n.indexOf(a)];w(t.currentTarget).focus(),o(this),this.change(this),a.indexOf("cmdSave")<0&&this.$textarea.focus(),t.preventDefault()},__localize:function(t){var e=w.fn.markdown.messages,n=this.$options.language;return void 0!==e&&void 0!==e[n]&&void 0!==e[n][t]?e[n][t]:t},__getIcon:function(t){return"object"==typeof t?t[this.$options.iconlibrary]:t},setFullscreen:function(t){var e=this.$editor,n=this.$textarea;!0===t?(e.addClass("md-fullscreen-mode"),w("body").addClass("md-nooverflow"),this.$options.onFullscreen(this)):(e.removeClass("md-fullscreen-mode"),w("body").removeClass("md-nooverflow"),1==this.$isPreview&&this.hidePreview().showPreview()),this.$isFullscreen=t,n.focus()},showEditor:function(){var n,e=this,t=this.$ns,i=this.$element,a=(i.css("height"),i.css("width"),this.$editable),o=this.$handler,s=this.$callback,r=this.$options,l=w("<div/>",{"class":"md-editor",click:function(){e.focus()}});if(null===this.$editor){var c=w("<div/>",{"class":"md-header btn-toolbar"}),h=[];if(0<r.buttons.length&&(h=h.concat(r.buttons[0])),0<r.additionalButtons.length&&w.each(r.additionalButtons[0],function(t,e){var n=w.grep(h,function(t){return t.name===e.name});0<n.length?n[0].data=n[0].data.concat(e.data):h.push(r.additionalButtons[0][t])}),0<r.reorderButtonGroups.length&&(h=h.filter(function(t){return-1<r.reorderButtonGroups.indexOf(t.name)}).sort(function(t,e){return r.reorderButtonGroups.indexOf(t.name)<r.reorderButtonGroups.indexOf(e.name)?-1:r.reorderButtonGroups.indexOf(t.name)>r.reorderButtonGroups.indexOf(e.name)?1:0})),0<h.length&&(c=this.__buildButtons([h],c)),r.fullscreen.enable&&c.append('<div class="md-controls"><a class="md-control md-control-fullscreen" href="#"><span class="'+this.__getIcon(r.fullscreen.icons.fullscreenOn)+'"></span></a></div>').on("click",".md-control-fullscreen",function(t){t.preventDefault(),e.setFullscreen(!0)}),l.append(c),i.is("textarea"))i.before(l),(n=i).addClass("md-input"),l.append(n);else{var d="function"==typeof toMarkdown?toMarkdown(i.html()):i.html(),u=w.trim(d);n=w("<textarea/>",{"class":"md-input",val:u}),l.append(n),a.el=i,a.type=i.prop("tagName").toLowerCase(),a.content=i.html(),w(i[0].attributes).each(function(){a.attrKeys.push(this.nodeName),a.attrValues.push(this.nodeValue)}),i.replaceWith(l)}var f=w("<div/>",{"class":"md-footer"}),p=!1,g="";if(r.savable&&(p=!0,o.push("cmdSave"),s.push(r.onSave),f.append('<button class="btn btn-success" data-provider="'+t+'" data-handler="cmdSave"><i class="icon icon-white icon-ok"></i> '+this.__localize("Save")+"</button>")),g="function"==typeof r.footer?r.footer(this):r.footer,""!==w.trim(g)&&(p=!0,f.append(g)),p&&l.append(f),r.width&&"inherit"!==r.width&&(jQuery.isNumeric(r.width)?(l.css("display","table"),n.css("width",r.width+"px")):l.addClass(r.width)),r.height&&"inherit"!==r.height)if(jQuery.isNumeric(r.height)){var v=r.height;c&&(v=Math.max(0,v-c.outerHeight())),f&&(v=Math.max(0,v-f.outerHeight())),n.css("height",v+"px")}else l.addClass(r.height);this.$editor=l,this.$textarea=n,this.$editable=a,this.$oldContent=this.getContent(),this.__setListener(),this.$editor.attr("id",(new Date).getTime()),this.$editor.on("click",'[data-provider="bootstrap-markdown"]',w.proxy(this.__handle,this)),(this.$element.is(":disabled")||this.$element.is("[readonly]"))&&(this.$editor.addClass("md-editor-disabled"),this.disableButtons("all")),this.eventSupported("keydown")&&"object"==typeof jQuery.hotkeys&&c.find('[data-provider="bootstrap-markdown"]').each(function(){var t=w(this),e=t.attr("data-hotkey");""!==e.toLowerCase()&&n.bind("keydown",e,function(){return t.trigger("click"),!1})}),"preview"===r.initialstate?this.showPreview():"fullscreen"===r.initialstate&&r.fullscreen.enable&&this.setFullscreen(!0)}else this.$editor.show();return r.autofocus&&(this.$textarea.focus(),this.$editor.addClass("active")),r.fullscreen.enable&&!1!==r.fullscreen&&(this.$editor.append('<div class="md-fullscreen-controls"><a href="#" class="exit-fullscreen" title="Exit fullscreen"><span class="'+this.__getIcon(r.fullscreen.icons.fullscreenOff)+'"></span></a></div>'),this.$editor.on("click",".exit-fullscreen",function(t){t.preventDefault(),e.setFullscreen(!1)})),this.hideButtons(r.hiddenButtons),this.disableButtons(r.disabledButtons),r.onShow(this),this},parseContent:function(t){t=t||this.$textarea.val();return this.$options.parser?this.$options.parser(t):"object"==typeof markdown?markdown.toHTML(t):"function"==typeof marked?marked(t):t},showPreview:function(){var t,e,n=this.$options,i=this.$textarea,a=i.next(),o=w("<div/>",{"class":"md-preview","data-provider":"markdown-preview"});return 1==this.$isPreview||(this.$isPreview=!0,this.disableButtons("all").enableButtons("cmdPreview"),t="string"==typeof(e=n.onPreview(this))?e:this.parseContent(),o.html(t),a&&"md-footer"==a.attr("class")?o.insertBefore(a):i.parent().append(o),o.css({width:i.outerWidth()+"px",height:i.outerHeight()+"px"}),this.$options.resize&&o.css("resize",this.$options.resize),i.hide(),o.data("markdown",this),(this.$element.is(":disabled")||this.$element.is("[readonly]"))&&(this.$editor.addClass("md-editor-disabled"),this.disableButtons("all"))),this},hidePreview:function(){return this.$isPreview=!1,this.$editor.find('div[data-provider="markdown-preview"]').remove(),this.enableButtons("all"),this.disableButtons(this.$options.disabledButtons),this.$textarea.show(),this.__setListener(),this},isDirty:function(){return this.$oldContent!=this.getContent()},getContent:function(){return this.$textarea.val()},setContent:function(t){return this.$textarea.val(t),this},findSelection:function(t){var e;if(0<=(e=this.getContent().indexOf(t))&&0<t.length){var n,i=this.getSelection();return this.setSelection(e,e+t.length),n=this.getSelection(),this.setSelection(i.start,i.end),n}return null},getSelection:function(){var e=this.$textarea[0];return("selectionStart"in e&&function(){var t=e.selectionEnd-e.selectionStart;return{start:e.selectionStart,end:e.selectionEnd,length:t,text:e.value.substr(e.selectionStart,t)}}||function(){return null})()},setSelection:function(t,e){var n=this.$textarea[0];return("selectionStart"in n&&function(){n.selectionStart=t,n.selectionEnd=e}||function(){return null})()},replaceSelection:function(t){var e=this.$textarea[0];return("selectionStart"in e&&function(){return e.value=e.value.substr(0,e.selectionStart)+t+e.value.substr(e.selectionEnd,e.value.length),e.selectionStart=e.value.length,this}||function(){return e.value+=t,jQuery(e)})()},getNextTab:function(){if(0===this.$nextTab.length)return null;var t,e=this.$nextTab.shift();return"function"==typeof e?t=e():"object"==typeof e&&0<e.length&&(t=e),t},setNextTab:function(t,e){if("string"==typeof t){var n=this;this.$nextTab.push(function(){return n.findSelection(t)})}else if("number"==typeof t&&"number"==typeof e){var i=this.getSelection();this.setSelection(t,e),this.$nextTab.push(this.getSelection()),this.setSelection(i.start,i.end)}},__parseButtonNameParam:function(t){return"string"==typeof t?t.split(" "):t},enableButtons:function(t){var e=this.__parseButtonNameParam(t),n=this;return w.each(e,function(t){n.__alterButtons(e[t],function(t){t.removeAttr("disabled")})}),this},disableButtons:function(t){var e=this.__parseButtonNameParam(t),n=this;return w.each(e,function(t){n.__alterButtons(e[t],function(t){t.attr("disabled","disabled")})}),this},hideButtons:function(t){var e=this.__parseButtonNameParam(t),n=this;return w.each(e,function(t){n.__alterButtons(e[t],function(t){t.addClass("hidden")})}),this},showButtons:function(t){var e=this.__parseButtonNameParam(t),n=this;return w.each(e,function(t){n.__alterButtons(e[t],function(t){t.removeClass("hidden")})}),this},eventSupported:function(t){var e=t in this.$element;return e||(this.$element.setAttribute(t,"return;"),e="function"==typeof this.$element[t]),e},keyup:function(t){var e=!1;switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:var n;if(null!==(n=this.getNextTab())){var i=this;setTimeout(function(){i.setSelection(n.start,n.end)},500),e=!0}else{var a=this.getSelection();a.start==a.end&&a.end==this.getContent().length?e=!1:(this.setSelection(this.getContent().length,this.getContent().length),e=!0)}break;case 13:e=!1;break;case 27:this.$isFullscreen&&this.setFullscreen(!1),e=!1;break;default:e=!1}e&&(t.stopPropagation(),t.preventDefault()),this.$options.onChange(this)},change:function(){return this.$options.onChange(this),this},select:function(){return this.$options.onSelect(this),this},focus:function(){var t=this.$options,e=(t.hideable,this.$editor);return e.addClass("active"),w(document).find(".md-editor").each(function(){var t;w(this).attr("id")!==e.attr("id")&&(null===(t=w(this).find("textarea").data("markdown"))&&(t=w(this).find('div[data-provider="markdown-preview"]').data("markdown")),t&&t.blur())}),t.onFocus(this),this},blur:function(){var t=this.$options,e=t.hideable,n=this.$editor,i=this.$editable;if(n.hasClass("active")||0===this.$element.parent().length){if(n.removeClass("active"),e)if(null!==i.el){var a=w("<"+i.type+"/>"),o=this.getContent(),s=this.parseContent(o);w(i.attrKeys).each(function(t){a.attr(i.attrKeys[t],i.attrValues[t])}),a.html(s),n.replaceWith(a)}else n.hide();t.onBlur(this)}return this}};var t=w.fn.markdown;w.fn.markdown=function(i){return this.each(function(){var t=w(this),e=t.data("markdown"),n="object"==typeof i&&i;e||t.data("markdown",e=new a(this,n))})},w.fn.markdown.messages={},w.fn.markdown.defaults={autofocus:!1,hideable:!1,savable:!1,width:"inherit",height:"inherit",resize:"none",iconlibrary:"glyph",language:"en",initialstate:"editor",parser:null,buttons:[[{name:"groupFont",data:[{name:"cmdBold",hotkey:"Ctrl+B",title:"Bold",icon:{glyph:"glyphicon glyphicon-bold",fa:"fa fa-bold","fa-3":"icon-bold"},callback:function(t){var e,n,i=t.getSelection(),a=t.getContent();e=0===i.length?t.__localize("strong text"):i.text,"**"===a.substr(i.start-2,2)&&"**"===a.substr(i.end,2)?(t.setSelection(i.start-2,i.end+2),t.replaceSelection(e),n=i.start-2):(t.replaceSelection("**"+e+"**"),n=i.start+2),t.setSelection(n,n+e.length)}},{name:"cmdItalic",title:"Italic",hotkey:"Ctrl+I",icon:{glyph:"glyphicon glyphicon-italic",fa:"fa fa-italic","fa-3":"icon-italic"},callback:function(t){var e,n,i=t.getSelection(),a=t.getContent();e=0===i.length?t.__localize("emphasized text"):i.text,"_"===a.substr(i.start-1,1)&&"_"===a.substr(i.end,1)?(t.setSelection(i.start-1,i.end+1),t.replaceSelection(e),n=i.start-1):(t.replaceSelection("_"+e+"_"),n=i.start+1),t.setSelection(n,n+e.length)}},{name:"cmdHeading",title:"Heading",hotkey:"Ctrl+H",icon:{glyph:"glyphicon glyphicon-header",fa:"fa fa-header","fa-3":"icon-font"},callback:function(t){var e,n,i,a,o=t.getSelection(),s=t.getContent();e=0===o.length?t.__localize("heading text"):o.text+"\n",i=4,"### "===s.substr(o.start-i,i)||(i=3,"###"===s.substr(o.start-i,i))?(t.setSelection(o.start-i,o.end),t.replaceSelection(e),n=o.start-i):0<o.start&&(a=s.substr(o.start-1,1))&&"\n"!=a?(t.replaceSelection("\n\n### "+e),n=o.start+6):(t.replaceSelection("### "+e),n=o.start+4),t.setSelection(n,n+e.length)}}]},{name:"groupLink",data:[{name:"cmdUrl",title:"URL/Link",hotkey:"Ctrl+L",icon:{glyph:"glyphicon glyphicon-link",fa:"fa fa-link","fa-3":"icon-link"},callback:function(t){var e,n,i,a=t.getSelection();t.getContent(),e=0===a.length?t.__localize("enter link description here"):a.text,i=prompt(t.__localize("Insert Hyperlink"),"http://");var o=new RegExp("^((http|https)://|(mailto:)|(//))[a-z0-9]","i");if(null!==i&&""!==i&&"http://"!==i&&o.test(i)){var s=w("<div>"+i+"</div>").text();t.replaceSelection("["+e+"]("+s+")"),n=a.start+1,t.setSelection(n,n+e.length)}}},{name:"cmdImage",title:"Image",hotkey:"Ctrl+G",icon:{glyph:"glyphicon glyphicon-picture",fa:"fa fa-picture-o","fa-3":"icon-picture"},callback:function(t){var e,n,i,a=t.getSelection();t.getContent(),e=0===a.length?t.__localize("enter image description here"):a.text,i=prompt(t.__localize("Insert Image Hyperlink"),"http://");var o=new RegExp("^((http|https)://|(//))[a-z0-9]","i");if(null!==i&&""!==i&&"http://"!==i&&o.test(i)){var s=w("<div>"+i+"</div>").text();t.replaceSelection("!["+e+"]("+s+' "'+t.__localize("enter image title here")+'")'),n=a.start+2,t.setNextTab(t.__localize("enter image title here")),t.setSelection(n,n+e.length)}}}]},{name:"groupMisc",data:[{name:"cmdList",hotkey:"Ctrl+U",title:"Unordered List",icon:{glyph:"glyphicon glyphicon-list",fa:"fa fa-list","fa-3":"icon-list-ul"},callback:function(t){var e,n,i=t.getSelection();if(t.getContent(),0===i.length)e=t.__localize("list text here"),t.replaceSelection("- "+e),n=i.start+2;else if(i.text.indexOf("\n")<0)e=i.text,t.replaceSelection("- "+e),n=i.start+2;else{var a=[];e=(a=i.text.split("\n"))[0],w.each(a,function(t,e){a[t]="- "+e}),t.replaceSelection("\n\n"+a.join("\n")),n=i.start+4}t.setSelection(n,n+e.length)}},{name:"cmdListO",hotkey:"Ctrl+O",title:"Ordered List",icon:{glyph:"glyphicon glyphicon-th-list",fa:"fa fa-list-ol","fa-3":"icon-list-ol"},callback:function(t){var e,n,i=t.getSelection();if(t.getContent(),0===i.length)e=t.__localize("list text here"),t.replaceSelection("1. "+e),n=i.start+3;else if(i.text.indexOf("\n")<0)e=i.text,t.replaceSelection("1. "+e),n=i.start+3;else{var a=[];e=(a=i.text.split("\n"))[0],w.each(a,function(t,e){a[t]="1. "+e}),t.replaceSelection("\n\n"+a.join("\n")),n=i.start+5}t.setSelection(n,n+e.length)}},{name:"cmdCode",hotkey:"Ctrl+K",title:"Code",icon:{glyph:"glyphicon glyphicon-asterisk",fa:"fa fa-code","fa-3":"icon-code"},callback:function(t){var e,n,i=t.getSelection(),a=t.getContent();e=0===i.length?t.__localize("code text here"):i.text,"```\n"===a.substr(i.start-4,4)&&"\n```"===a.substr(i.end,4)?(t.setSelection(i.start-4,i.end+4),t.replaceSelection(e),n=i.start-4):"`"===a.substr(i.start-1,1)&&"`"===a.substr(i.end,1)?(t.setSelection(i.start-1,i.end+1),t.replaceSelection(e),n=i.start-1):-1<a.indexOf("\n")?(t.replaceSelection("```\n"+e+"\n```"),n=i.start+4):(t.replaceSelection("`"+e+"`"),n=i.start+1),t.setSelection(n,n+e.length)}},{name:"cmdQuote",hotkey:"Ctrl+Q",title:"Quote",icon:{glyph:"glyphicon glyphicon-comment",fa:"fa fa-quote-left","fa-3":"icon-quote-left"},callback:function(t){var e,n,i=t.getSelection();if(t.getContent(),0===i.length)e=t.__localize("quote here"),t.replaceSelection("> "+e),n=i.start+2;else if(i.text.indexOf("\n")<0)e=i.text,t.replaceSelection("> "+e),n=i.start+2;else{var a=[];e=(a=i.text.split("\n"))[0],w.each(a,function(t,e){a[t]="> "+e}),t.replaceSelection("\n\n"+a.join("\n")),n=i.start+4}t.setSelection(n,n+e.length)}}]},{name:"groupUtil",data:[{name:"cmdPreview",toggle:!0,hotkey:"Ctrl+P",title:"Preview",btnText:"Preview",btnClass:"btn btn-primary btn-sm",icon:{glyph:"glyphicon glyphicon-search",fa:"fa fa-search","fa-3":"icon-search"},callback:function(t){!1===t.$isPreview?t.showPreview():t.hidePreview()}}]}]],additionalButtons:[],reorderButtonGroups:[],hiddenButtons:[],disabledButtons:[],footer:"",fullscreen:{enable:!0,icons:{fullscreenOn:{fa:"fa fa-expand",glyph:"glyphicon glyphicon-fullscreen","fa-3":"icon-resize-full"},fullscreenOff:{fa:"fa fa-compress",glyph:"glyphicon glyphicon-fullscreen","fa-3":"icon-resize-small"}}},onShow:function(){},onPreview:function(){},onSave:function(){},onBlur:function(){},onFocus:function(){},onChange:function(){},onFullscreen:function(){},onSelect:function(){}},w.fn.markdown.Constructor=a,w.fn.markdown.noConflict=function(){return w.fn.markdown=t,this};var e=function(t){var e=t;e.data("markdown")?e.data("markdown").showEditor():e.markdown()};w(document).on("click.markdown.data-api",'[data-provide="markdown-editable"]',function(t){e(w(this)),t.preventDefault()}).on("click focusin",function(){var i;i=w(document.activeElement),w(document).find(".md-editor").each(function(){var t=w(this),e=i.closest(".md-editor")[0]===this,n=t.find("textarea").data("markdown")||t.find('div[data-provider="markdown-preview"]').data("markdown");n&&!e&&n.blur()})}).ready(function(){w('textarea[data-provide="markdown"]').each(function(){e(w(this))})})})?i.apply(e,a):i)||(t.exports=o)},420:function(t,e,n){n(419)}});if("object"==typeof e){var n=["object"==typeof module&&"object"==typeof module.exports?module.exports:null,"undefined"!=typeof window?window:null,t&&t!==window?t:null];for(var i in e)n[0]&&(n[0][i]=e[i]),n[1]&&"__esModule"!==i&&(n[1][i]=e[i]),n[2]&&(n[2][i]=e[i])}}(this);